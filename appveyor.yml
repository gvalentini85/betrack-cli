version: 0.0.1.{build}

environment:
  matrix:
    - PYTHON: "C:\\Python27-x64"
    - PYTHON: "C:\\Python34-x64"
    - PYTHON: "C:\\Python35-x64"
    - PYTHON: "C:\\Python36-x64"

install:
  - "SET PATH=%PYTHON%;%PYTHON%\\Scripts;%PATH%"
  - "python --version"
  - "python -c \"import struct; print(struct.calcsize('P') * 8)\""  
  - cmd: "python -m pip install --upgrade pip"
  - cmd: "cd C:\\projects\\betrack-cli"
  - cmd: "pip install -e .[test]"

build: off

test_script:
  - "echo %cd%"
  - "betrack -h"
  - "where py.test"
  - "py.test --cov=betrack --cov-report=term-missing"
  - "python setup.py test"
